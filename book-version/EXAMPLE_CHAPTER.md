# 📖 範例章節展示

這是一個完整的章節範例，展示所有互動元素和格式。

---

**所屬部分：** 基礎篇：建立規格驅動思維

**建議學習週次：** 第 1-2 週

---

## 🎯 本章學習目標

完成本章後，你將能夠：

- ✅ 理解規格驅動開發（SDD）的核心概念
- ✅ 撰寫你的第一份規格文件
- ✅ 使用 AI 工具根據規格生成程式碼
- ✅ 驗證生成的程式碼是否符合規格

**預計學習時間：** 45 分鐘

---

## 📖 章節概述

規格驅動開發（Spec-Driven Development, SDD）是一種以「規格」為核心的開發方式。在傳統開發中，我們直接寫程式碼；但在 SDD 中，我們先寫清楚「要做什麼」，然後讓 AI 幫我們生成「怎麼做」。

這種方式特別適合非工程師，因為你只需要用自然語言描述需求，不需要記憶複雜的語法。

---

## 📚 核心內容

### 什麼是規格？

規格（Specification）就是對功能的明確描述，包含：

1. **輸入**：這個功能需要什麼資料？
2. **輸出**：這個功能會產生什麼結果？
3. **行為**：從輸入到輸出的過程中，會發生什麼？
4. **限制**：有什麼特殊情況需要處理？

### 範例：計算機的加法功能

**傳統寫法（直接寫程式碼）：**
```javascript
function add(a, b) {
  return a + b;
}
```

**SDD 寫法（先寫規格）：**
```yaml
功能名稱: 加法計算
輸入:
  - a: 數字
  - b: 數字
輸出:
  - 結果: 數字（a + b 的和）
範例:
  - 輸入: a=2, b=3 → 輸出: 5
  - 輸入: a=-1, b=1 → 輸出: 0
  - 輸入: a=0, b=0 → 輸出: 0
```

有了這份規格，你可以請 AI 幫你生成程式碼，而且 AI 會根據範例自動產生測試案例！

### 為什麼 SDD 適合非工程師？

1. **用自然語言思考**：不需要記憶語法
2. **AI 處理細節**：你專注在「做什麼」，AI 負責「怎麼做」
3. **自動測試**：規格中的範例會變成測試案例
4. **易於溝通**：規格是人和 AI 都能理解的語言

---

## 🔑 核心概念速覽

### 概念 1：規格 vs 程式碼

- **規格**：描述「要做什麼」（What）
- **程式碼**：描述「怎麼做」（How）

在 SDD 中，你負責規格，AI 負責程式碼。

### 概念 2：範例驅動

好的規格包含具體範例：

```
輸入: 使用者名稱 "john", 密碼 "123456"
輸出: 登入成功，返回使用者資訊

輸入: 使用者名稱 "john", 密碼 "wrong"
輸出: 登入失敗，顯示錯誤訊息
```

這些範例會成為測試案例，確保程式正確。

### 概念 3：漸進式開發

不要一次寫完整個系統的規格，而是：

1. 先寫一個小功能的規格
2. 讓 AI 生成程式碼
3. 測試驗證
4. 再寫下一個功能

---

## 💻 實作任務

### 任務 1：撰寫你的第一份規格

**任務描述：**
選擇一個簡單功能（建議：計算機、溫度轉換、或簡單的文字處理），撰寫完整規格。

**預期時間：** 30 分鐘

**難度等級：** ⭐⭐

**驗證方式：**
- [ ] 規格包含清楚的輸入定義
- [ ] 規格包含清楚的輸出定義
- [ ] 至少有 3 個具體範例
- [ ] 考慮了邊界情況（如空值、負數等）

**💡 提示：**
- 從最簡單的情況開始
- 每個範例都要寫清楚輸入和預期輸出
- 想像你在跟一個完全不懂這個功能的人解釋

**範例規格模板：**
```yaml
功能名稱: [你的功能名稱]

輸入:
  - 參數1: [類型和說明]
  - 參數2: [類型和說明]

輸出:
  - [輸出內容和格式]

範例:
  1. 輸入: [具體值] → 輸出: [預期結果]
  2. 輸入: [具體值] → 輸出: [預期結果]
  3. 輸入: [邊界情況] → 輸出: [預期結果]

特殊情況:
  - [需要處理的特殊情況]
```

---

### 任務 2：使用 AI 生成程式碼

**任務描述：**
將你的規格提供給 AI 工具（如 GitHub Copilot、Claude、ChatGPT），請它生成程式碼。

**預期時間：** 15 分鐘

**驗證方式：**
- [ ] AI 成功生成了程式碼
- [ ] 程式碼包含你規格中的所有功能
- [ ] 程式碼可以執行

**💡 提示：**
- 使用這個 Prompt：「請根據以下規格生成 JavaScript 程式碼，並包含測試案例：[貼上你的規格]」
- 如果第一次生成的程式碼不理想，可以補充說明或調整規格

---

## 💡 程式碼範例

### 範例 1：溫度轉換器

**規格：**
```yaml
功能名稱: 攝氏轉華氏
輸入: 攝氏溫度（數字）
輸出: 華氏溫度（數字）
公式: F = C × 9/5 + 32

範例:
  - 0°C → 32°F
  - 100°C → 212°F
  - -40°C → -40°F
```

**AI 生成的程式碼：**
```javascript
function celsiusToFahrenheit(celsius) {
  // 驗證輸入
  if (typeof celsius !== 'number') {
    throw new Error('輸入必須是數字');
  }
  
  // 轉換公式
  const fahrenheit = celsius * 9/5 + 32;
  
  return fahrenheit;
}

// 測試案例（根據規格自動生成）
console.assert(celsiusToFahrenheit(0) === 32, '0°C 應該等於 32°F');
console.assert(celsiusToFahrenheit(100) === 212, '100°C 應該等於 212°F');
console.assert(celsiusToFahrenheit(-40) === -40, '-40°C 應該等於 -40°F');

console.log('所有測試通過！✅');
```

**說明：**
注意 AI 如何根據規格：
1. 實作了轉換公式
2. 加入了輸入驗證
3. 自動生成了測試案例

這就是 SDD 的威力！

---

## ⚠️ 常見錯誤與解決方案

### 錯誤 1：規格太模糊

**問題描述：**
「寫一個登入功能」← 這樣的規格太模糊

**為什麼會發生：**
沒有說明輸入、輸出、成功/失敗的情況

**解決方案：**
具體化每個細節：
```yaml
功能: 使用者登入
輸入:
  - username: 字串
  - password: 字串
輸出:
  - 成功: { success: true, user: {...} }
  - 失敗: { success: false, error: "錯誤訊息" }
範例:
  - 正確帳密 → 返回使用者資訊
  - 錯誤密碼 → 返回錯誤訊息
  - 帳號不存在 → 返回錯誤訊息
```

---

### 錯誤 2：一次規格包含太多功能

**問題描述：**
想一次寫完整個購物網站的規格

**為什麼會發生：**
想要一步到位，但這樣規格會變得複雜難懂

**解決方案：**
拆分成小功能，一次只做一個：
1. 先做「商品列表顯示」
2. 再做「加入購物車」
3. 再做「結帳流程」

每個功能都是獨立的規格，逐步完成。

---

### 錯誤 3：沒有提供範例

**問題描述：**
只寫了輸入輸出定義，沒有具體範例

**為什麼會發生：**
覺得定義已經很清楚了

**解決方案：**
範例是最重要的！它們會變成測試案例：

```yaml
# ❌ 不好的規格
輸入: 兩個數字
輸出: 它們的和

# ✅ 好的規格
輸入: 兩個數字 a, b
輸出: 數字（a + b）
範例:
  - add(2, 3) → 5
  - add(-1, 1) → 0
  - add(0, 0) → 0
  - add(1.5, 2.5) → 4.0
```

---

## ✅ 自我檢測清單

完成本章後，請確認你能夠：

- [ ] 解釋什麼是規格驅動開發（SDD）
- [ ] 說出規格的四個組成部分（輸入、輸出、行為、限制）
- [ ] 撰寫一個包含至少 3 個範例的完整規格
- [ ] 使用 AI 工具根據規格生成程式碼
- [ ] 理解為什麼要用範例驅動的方式寫規格
- [ ] 知道如何拆分大功能成小規格

> 💡 **建議：** 如果有任何項目尚未掌握，建議回顧相關章節或在學習筆記區記錄疑問。

---

## 🤔 思考題

### 問題 1

以下哪個是好的規格範例？

- [ ] A. 「寫一個計算器」
- [ ] B. 「計算兩個數字的和，輸入 2 和 3 應該得到 5」
- [ ] C. 「function add(a, b) { return a + b; }」

**提示：** 好的規格應該描述「要做什麼」，而不是「怎麼做」

<details>
<summary>💡 參考答案</summary>

**答案：B**

**解釋：**
- A 太模糊，沒有說明具體功能
- B 清楚說明了功能和範例，這是好的規格
- C 是程式碼，不是規格

好的規格應該：
1. 清楚描述功能
2. 提供具體範例
3. 用自然語言而非程式碼

</details>

---

### 問題 2

為什麼在規格中提供多個範例很重要？

**提示：** 想想範例在開發過程中扮演什麼角色

<details>
<summary>💡 參考答案</summary>

**答案：**

範例很重要，因為：

1. **變成測試案例**：每個範例都會成為自動化測試，確保程式正確
2. **澄清需求**：範例比文字描述更清楚
3. **涵蓋邊界情況**：透過不同範例測試各種情況（正常、異常、邊界）
4. **幫助 AI 理解**：AI 可以從範例學習你的意圖

**好的範例應該包含：**
- 正常情況
- 邊界情況（如 0、負數、空值）
- 錯誤情況

</details>

---

## 📝 學習筆記區

> 💡 **提示：** 在這裡記錄你的學習心得、疑問、想法或實作過程中的發現

---

**我的學習心得：**




**遇到的問題：**




**想要深入研究的主題：**




---

## 📚 延伸閱讀

- **Specification by Example**
  - 類型：書籍
  - 連結：[Manning 出版社](https://www.manning.com/books/specification-by-example)
  - 說明：深入探討如何用範例撰寫規格的經典書籍

- **Behavior-Driven Development (BDD)**
  - 類型：概念
  - 連結：[BDD 介紹](https://en.wikipedia.org/wiki/Behavior-driven_development)
  - 說明：與 SDD 相關的開發方法論

- **GitHub Spec Kit**
  - 類型：工具
  - 連結：[GitHub Spec Kit](https://github.com/github/spec-kit)
  - 說明：GitHub 推出的規格管理工具

---

## ➡️ 下一步

完成本章後，你可以：

1. **繼續下一章：** [第 2 章：開發者工具包](chapter-02.md)
2. **複習本章內容：** 確保所有檢測項目都已完成
3. **實作練習：** 完成所有實作任務並驗證結果
4. **加入討論：** 在社群中分享你的學習心得

---

**章節元數據**
- 最後更新：2024-10-18
- 版本：1.0.0
- 難度等級：⭐⭐（入門）
- 關鍵字：規格驅動開發, SDD, 規格文件, AI 輔助開發, 範例驅動

---
