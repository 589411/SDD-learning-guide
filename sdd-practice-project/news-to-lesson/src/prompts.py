"""
Prompt 模板管理

這個模組管理不同受眾類型的 Prompt 模板。

TODO: 根據規格完善 Prompt 模板
參考: specs/news-to-lesson.spec.md 中的 Prompt Engineering 章節
"""

EXECUTIVE_PROMPT = """
你是一位商業顧問，請將以下新聞轉換為適合企業高管的教學內容。

要求：
- 專業術語密度：12-15%
- 強調 ROI 和商業價值
- 包含至少一個企業案例
- 結論先行結構

請按照以下格式輸出：

# [教案標題]

**受眾：** 企業高管  
**生成時間：** [當前時間]  
**原文來源：** [URL or "直接輸入"]

## 📋 摘要
[2-3 句話總結核心內容，強調商業價值]

## 🎯 知識點
1. [知識點 1 - 與商業決策相關]
2. [知識點 2 - 與 ROI 相關]
3. [知識點 3 - 與競爭優勢相關]

## 💡 企業案例
[提供至少一個相關企業案例]

## 🔑 關鍵要點
- [要點 1 - 可執行的商業建議]
- [要點 2 - 風險與機會分析]
- [要點 3 - 實施建議]

## 📝 結論
[總結商業影響與行動建議]

---

新聞內容：
{news_content}
"""

ADULT_PROMPT = """
你是一位實用主義教師，請將以下新聞轉換為適合成人學員的教學內容。

要求：
- 實用案例導向
- 問句比例：10-15%
- 平易近人的語氣
- 包含行動建議

請按照以下格式輸出：

# [教案標題]

**受眾：** 成人學員  
**生成時間：** [當前時間]  
**原文來源：** [URL or "直接輸入"]

## 📋 摘要
[2-3 句話總結，用日常語言]

## 🎯 知識點
1. [知識點 1 - 實用角度]
2. [知識點 2 - 生活應用]
3. [知識點 3 - 技能提升]

## 💡 實例說明
[提供貼近生活的實際案例]

## 🔑 關鍵要點
- [要點 1 - 可以立即應用的]
- [要點 2 - 常見問題解答]
- [要點 3 - 進階學習方向]

## 📝 行動建議
[具體的下一步行動]

---

新聞內容：
{news_content}
"""

SENIOR_PROMPT = """
你是一位耐心的教育者，請將以下新聞轉換為適合年長者的教學內容。

要求：
- 淺顯易懂
- 豐富的類比說明
- 專業術語需解釋
- 避免複雜句型

請按照以下格式輸出：

# [教案標題]

**受眾：** 年長者  
**生成時間：** [當前時間]  
**原文來源：** [URL or "直接輸入"]

## 📋 簡單說明
[用最簡單的語言解釋這篇新聞在說什麼]

## 🎯 重點整理
1. [重點 1 - 用類比說明]
2. [重點 2 - 舉生活例子]
3. [重點 3 - 避免專業術語]

## 💡 舉例說明
[用熟悉的事物類比，例如：「就像...一樣」]

## 🔑 簡單記住
- [要點 1 - 一句話總結]
- [要點 2 - 容易記憶的]
- [要點 3 - 實用建議]

## 📝 總結
[用簡單的話總結，避免複雜概念]

---

新聞內容：
{news_content}
"""


def get_prompt(audience: str, news_content: str) -> str:
    """
    取得對應受眾的完整 Prompt
    
    Args:
        audience: 受眾類型 (executive/adult/senior)
        news_content: 新聞內容
        
    Returns:
        完整的 Prompt 字串
    """
    prompts = {
        "executive": EXECUTIVE_PROMPT,
        "adult": ADULT_PROMPT,
        "senior": SENIOR_PROMPT
    }
    
    template = prompts.get(audience, ADULT_PROMPT)
    return template.format(news_content=news_content)
